<!DOCTYPE html>
<html lang="en" oncontextmenu="return false">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script async src="/sdk.js" onload="initSDK()"></script>
    <!-- Yandex Games SDK -->
    <script>
        function initSDK() {
            YaGames.init().then(ysdk => {
                console.log('Yandex SDK initialized');
                window.ysdk = ysdk;
                console.log("Player language: " + ysdk.environment.i18n.lang);
            });
        }
    </script>
    <script>
        (function(d) {
            var s = d.createElement('script');
            s.src = '/sdk.js';
            s.async = true;
            s.onload = initSDK;
            d.head.append(s);
        })(document);
    </script>
    <script>
        function openGamesLinks()
        {
            window.ysdk.features.GamesAPI.getAllGames()
                .then(games => window.open(games.developerURL, '_blank').focus())
        }
    </script>
    <script>
        function vibration(){
            window.navigator.vibrate(1000);
        }
    </script>
    <script>
        function checkLang()
        {
            console.log(ysdk.environment.i18n.lang);
        }
    </script>
    <style>
        body {
            overflow: hidden;
        }
    </style>
    <title>Document</title>
</head>
<body>
    <button onclick="checkLang()">i18n.lang</button>
    <div>
        <input type="text" class="to-copy" placeholder="Type something..." aria-label="Type something">
        <button class="write-btn">Copy to clipboard</button>
    </div>
    
    <div>
        <h3 class="clipboard-results"></h3>
        <button class="read-btn">Paste from clipboard</button>
    </div>
    <div>
        <h3 class="win-referrer"></h3>
        <button class="refreshReferrer-btn">Refresh Height</button>
    </div>
    <div>
        <h3 class="windows-height"></h3>
        <button class="refreshHeight-btn">Refresh Height</button>
    </div>
    <div>
        <button class="openLinks-btn">OpenDevLink</button>
    </div>
    <img src="https://i.pinimg.com/originals/7e/1b/fd/7e1bfd1191112533fe9872ef47398823.jpg"/>
    <script>
        const openLinksBtn = document.querySelector('.openLinks-btn');
        openLinksBtn.addEventListener('click', () => {
            window.openGamesLinks()
        })
        
        const readBtn = document.querySelector('.read-btn');
        const writeBtn = document.querySelector('.write-btn');

        const resultsEl = document.querySelector('.clipboard-results');
        const inputEl = document.querySelector('.to-copy');

        const winheight = document.querySelector(".windows-height");
        const refreshHeightBtn = document.querySelector(".refreshHeight-btn")
        winheight.innerText = window.innerHeight

        const winref = document.querySelector(".win-referrer");
        const refreshReferrerBtn = document.querySelector(".refreshReferrer-btn")
        winref.innerText = document.referrer

        refreshHeightBtn.addEventListener('click', () => {
            winheight.innerText = window.innerHeight;
        })

        refreshReferrerBtn.addEventListener('click', () => {
            winref.innerText = document.referrer;
        })

        readBtn.addEventListener('click', () => {
        navigator.clipboard.readText()
            .then(text => {
            resultsEl.innerText = text;
            })
            .catch(err => {
            console.log('Something went wrong', err);
            })
        });

        writeBtn.addEventListener('click', () => {
        const inputValue = inputEl.value.trim();
        if (inputValue) {
            navigator.clipboard.writeText(inputValue)
            .then(() => {
                inputEl.value = '';
                if (writeBtn.innerText !== 'Copied!') {
                const originalText = writeBtn.innerText;
                writeBtn.innerText = 'Copied!';
                setTimeout(() => {
                    writeBtn.innerText = originalText;
                }, 1500);
                }
            })
            .catch(err => {
                console.log('Something went wrong', err);
            })
        }
        });
    </script>
</body>
</html>
